# Prompt: Testing

## Metadata
- **Type**: testing
- **Session**: 23cc9bff-cc8a-4bec-8fe7-33bd75776275
- **Date**: 3/12/2025, 9:56:00
- **Keywords**: bruno, sap, test, cds, cap

## ROL
Eres un **experto senior especializado en aplicaciones SAP CAP (Cloud Application Programming).

## CONTEXTO
El workflow de Bruno API @__apiCollection/Workflows/07_Search_Logs_Test esta fallando, porque las consultas con coinciden con los datos iniciales y los tests no usan correctamente las variables de entorno.
Los endpoints funcionan perfectamente y estan declarados en @srv/shiftbook-service.cds y se llaman en los handlers de @srv/handlers/action-handlers.ts

## OBJETIVO
- Haz un analisis de las diferentes llamadas
- Documenta que datos se guardan en variables de entorno para pasarlo a las siguientes llamadas
- Corrige los tests y las consultas para que pasen los tests.

## OUTPUT
- No hagas grandes resumenes, haz lo que se pide.
- Siempre que crees un fichero markdown (.md), abrelo con la aplicaci贸n por defecto de MacOS para ficheros markdown (la que tenga yo configurada). Actualmente es One Markdown.

## NOTAS
- puedes usar Bruno CLI para testear si funcionan los tests, dejar茅 el servidor funcionando.
- Usa el entorno "Local"
- Ejemplo de llamada a Bruno CLI de forma recursiva:
cd __apiCollection && bru run "Workflows/07_Search_Logs_Test" -r --env Local
- documentaci贸n de Bruno CLI: https://docs.usebruno.com/bru-cli/overview

## Original Prompt
```
#  Prompt desc: corregir Bruno Workflow

##  ROL

Eres un **experto senior especializado en aplicaciones SAP CAP (Cloud Application Programming).

##  CONTEXTO
El workflow de Bruno API @__apiCollection/Workflows/07_Search_Logs_Test esta fallando, porque las consultas con coinciden con los datos iniciales y los tests no usan correctamente las variables de entorno.
Los endpoints funcionan perfectamente y estan declarados en @srv/shiftbook-service.cds y se llaman en los handlers de @srv/handlers/action-handlers.ts

##  OBJETIVO
- Haz un analisis de las diferentes llamadas
- Documenta que datos se guardan en variables de entorno para pasarlo a las siguientes llamadas
- Corrige los tests y las consultas para que pasen los tests.

## Notas
- puedes usar Bruno CLI para testear si funcionan los tests, dejar茅 el servidor funcionando.
- Usa el entorno "Local"
- Ejemplo de llamada a Bruno CLI de forma recursiva:
cd __apiCollection && bru run "Workflows/07_Search_Logs_Test" -r --env Local
- documentaci贸n de Bruno CLI: https://docs.usebruno.com/bru-cli/overview


## Output
- No hagas grandes resumenes, haz lo que se pide.
- Siempre que crees un fichero markdown (.md), abrelo con la aplicaci贸n por defecto de MacOS para ficheros markdown (la que tenga yo configurada). Actualmente es One Markdown.
```

## Template Variables
<!-- Define variables for reuse -->
- `{{PROJECT_NAME}}`: 
- `{{CONTEXT}}`: 
- `{{SPECIFIC_TASK}}`: 
