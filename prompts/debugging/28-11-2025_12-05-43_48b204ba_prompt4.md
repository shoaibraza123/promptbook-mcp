# Prompt: Debugging

## Metadata
- **Type**: debugging
- **Session**: 48b204ba-3e0a-41e5-af76-7a0765247d91
- **Date**: 28/11/2025, 12:05:43
- **Keywords**: go, cds, debug, sap

## Original Prompt
```
el servicio dÃ¡ este error cuando hago POST /addShiftBookEntry:

{
    "error": {
        "message": "Value  is not a valid Timestamp",
        "target": "lasttimestamp",
        "code": "ASSERT_DATA_TYPE",
        "@Common.numericSeverity": 4
    }
}

estos son los datos:
{"werks":"2000","orig_workcenter":"ASSEMBLY_DOORS_AA","dest_workcenter":"ASSEMBLY_DOORS_AA","page":1,"pageSize":25,"language":"es","lasttimestamp":""}

estos son los logs:
edAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT jsonb_group_array(jsonb_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc")) as _json_ FROM (SELECT "$t".createdAt,"$t".createdBy,"$t".modifiedAt,"$t".modifiedBy,"$t".category,"$t".lng,"$t".werks,"$t"."desc" FROM ShiftBookService_ShiftBookCategoryLng as "$t" WHERE "$t".category = "$S".ID and "$t".werks = "$S".werks)) as translations,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."catego[odata] - GET /shiftbook/ShiftBookService/ShiftBookCategory {
  '$filter': "werks eq '2000'",
  '$expand': 'translations,sendingWorkcenter',
  '$orderby': 'createdAt asc'
}
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."translations"',translations-\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiry_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM ShiftBookService_ShiftBookCategory as "$S" WHERE "$S".werks = ? ORDER BY "$S".createdAt ASC,"$S".ID ASC,"$S".werks ASC LIMIT ?) [ 1, '2000', 1000 ]
[sql] - COMMIT
[INFO] GET /ShiftBookCategory - 200 (30ms)
[odata] - GET /shiftbook/ShiftBookService/ShiftBookCategory {
  '$filter': "werks eq '2000'",
  '$expand': 'translations,sendingWorkcenter',
  '$orderby': 'createdAt asc'
}
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."translations"',translations-\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT jsonb_group_array(jsonb_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc")) as _json_ FROM (SELECT "$t".createdAt,"$t".createdBy,"$t".modifiedAt,"$t".modifiedBy,"$t".category,"$t".lng,"$t".werks,"$t"."desc" FROM ShiftBookService_ShiftBookCategoryLng as "$t" WHERE "$t".category = "$S".ID and "$t".werks = "$S".werks)) as translations,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM ShiftBookService_ShiftBookCategory as "$S" WHERE "$S".werks = ? ORDER BY "$S".createdAt ASC,"$S".ID ASC,"$S".werks ASC LIMIT ?) [ 1, '2000', 1000 ]
[sql] - COMMIT
[INFO] GET /ShiftBookCategory - 200 (4ms)
[odata] - POST /shiftbook/ShiftBookService/getShiftBookLogsPaginated 
ðŸŒ [LanguageHandler] Using explicit language parameter: es
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID) as _json_ FROM (SELECT "$S".ID FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLog as "$S" WHERE "$S".werks = ? and "$S".workcenter = ?) [ '2000', 'ASSEMBLY_DOORS_AA' ]
ðŸ”§ [LogDBService] Found 0 logs from origin workcenter: ASSEMBLY_DOORS_AA
[sql] - SELECT json_insert('{}','$."log_id"',log_id) as _json_ FROM (SELECT "$S".log_id FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLogWC as "$S" WHERE "$S".workcenter = ?) [ 'ASSEMBLY_DOORS_AA' ]
ðŸ”§ [LogDBService] After deduplication: 0 unique logs (from 0 total)
[cds] - connect to audit-log \> audit-log-to-console 
[sql] - INSERT INTO cds_outbox_Messages (ID,timestamp,target,msg,attempts,"partition",lastError,lastAttemptTimestamp,status) SELECT value-\>\>'$."ID"',ISO(value-\>\>'$."timestamp"'),value-\>\>'$."target"',value-\>\>'$."msg"',(CASE WHEN json_type(value,'$."attempts"') IS NULL THEN 0 ELSE value-\>\>'$."attempts"' END),(CASE WHEN json_type(value,'$."partition"') IS NULL THEN 0 ELSE value-\>\>'$."partition"' END),value-\>\>'$."lastError"',ISO(value-\>\>'$."lastAttemptTimestamp"'),value-\>\>'$."status"' FROM json_each(?) [ [ [ [Object] ] ] ]
[sql] - COMMIT
[INFO] POST /getShiftBookLogsPaginated - 200 (17ms)
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."timestamp"',timestamp,'$."target"',target,'$."msg"',msg,'$."attempts"',attempts,'$."partition"',"partition",'$."lastError"',lastError,'$."lastAttemptTimestamp"',lastAttemptTimestamp,'$."status"',status) as _json_ FROM (SELECT "$M".ID,"$M".timestamp,"$M".target,"$M".msg,"$M".attempts,"$M"."partition","$M".lastError,"$M".lastAttemptTimestamp,"$M".status FROM cds_outbox_Messages as "$M" WHERE "$M".target = ? and "$M".attempts \< ? and ("$M".status is NULL or "$M".lastAttemptTimestamp \< ?) ORDER BY "$M".status ASC,"$M".timestamp ASC,"$M".ID ASC LIMIT ? ) [ 'audit-log', 20, '2025-12-01T16:01:29.067Z', 10 ]
[audit-log] - DATA_MODIFICATION: {
  user: 'privileged',
  object: { type: 'ShiftBookLog', id: { shiftbooklog: 'paginated_query' } },
  data_subject: { type: 'User', id: { user: 'privileged' } },
  attributes: [
    { name: 'action', value: 'GET_SHIFTBOOK_LOGS_PAGINATED' },
    {
      name: 'message',
      value: 'GET_SHIFTBOOK_LOGS_PAGINATED: ShiftBookLog [paginated_query]'
    },
    { name: 'werks', value: '2000' },
    { name: 'orig_workcenter', value: 'ASSEMBLY_DOORS_AA' },
    { name: 'dest_workcenter', value: 'ASSEMBLY_DOORS_AA' },
    { name: 'category', value: 'undefined' },
    { name: 'lasttimestamp', value: 'undefined' },
    { name: 'total', value: '0' },
    { name: 'page', value: '1' },
    { name: 'pageSize', value: '25' },
    { name: 'totalPages', value: '0' },
    { name: 'returned', value: '0' },
    { name: 'lastChangeTimestamp', value: 'null' },
    { name: 'readCount', value: '0' },
    { name: 'unreadCount', value: '0' }
  ],
  uuid: '675bfd5a-8650-4ef1-8d9b-ca1718d18324',
  tenant: undefined,
  time: 2025-12-01T17:01:29.071Z
}
[sql] - DELETE FROM cds_outbox_Messages as "$M" WHERE "$M".ID in (?) [ '52199916-1a69-4b56-a327-ff59b6303299' ]
[sql] - COMMIT
[odata] - POST /shiftbook/ShiftBookService/getShiftBookLogsPaginated 
ðŸŒ [LanguageHandler] Using explicit language parameter: es
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID) as _json_ FROM (SELECT "$S".ID FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLog as "$S" WHERE "$S".werks = ? and "$S".workcenter = ?) [ '2000', 'ASSEMBLY_DOORS_AA' ]
ðŸ”§ [LogDBService] Found 0 logs from origin workcenter: ASSEMBLY_DOORS_AA
[sql] - SELECT json_insert('{}','$."log_id"',log_id) as _json_ FROM (SELECT "$S".log_id FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLogWC as "$S" WHERE "$S".workcenter = ?) [ 'ASSEMBLY_DOORS_AA' ]
ðŸ”§ [LogDBService] After deduplication: 0 unique logs (from 0 total)
[sql] - INSERT INTO cds_outbox_Messages (ID,timestamp,target,msg,attempts,"partition",lastError,lastAttemptTimestamp,status) SELECT value-\>\>'$."ID"',ISO(value-\>\>'$."timestamp"'),value-\>\>'$."target"',value-\>\>'$."msg"',(CASE WHEN json_type(value,'$."attempts"') IS NULL THEN 0 ELSE value-\>\>'$."attempts"' END),(CASE WHEN json_type(value,'$."partition"') IS NULL THEN 0 ELSE value-\>\>'$."partition"' END),value-\>\>'$."lastError"',ISO(value-\>\>'$."lastAttemptTimestamp"'),value-\>\>'$."status"' FROM json_each(?) [ [ [ [Object] ] ] ]
[sql] - COMMIT
[INFO] POST /getShiftBookLogsPaginated - 200 (3ms)
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."timestamp"',timestamp,'$."target"',target,'$."msg"',msg,'$."attempts"',attempts,'$."partition"',"partition",'$."lastError"',lastError,'$."lastAttemptTimestamp"',lastAttemptTimestamp,'$."status"',status) as _json_ FROM (SELECT "$M".ID,"$M".timestamp,"$M".target,"$M".msg,"$M".attempts,"$M"."partition","$M".lastError,"$M".lastAttemptTimestamp,"$M".status FROM cds_outbox_Messages as "$M" WHERE "$M".target = ? and "$M".attempts \< ? and ("$M".status is NULL or "$M".lastAttemptTimestamp \< ?) ORDER BY "$M".status ASC,"$M".timestamp ASC,"$M".ID ASC LIMIT ? ) [ 'audit-log', 20, '2025-12-01T16:01:29.079Z', 10 ]
[audit-log] - DATA_MODIFICATION: {
  user: 'privileged',
  object: { type: 'ShiftBookLog', id: { shiftbooklog: 'paginated_query' } },
  data_subject: { type: 'User', id: { user: 'privileged' } },
  attributes: [
    { name: 'action', value: 'GET_SHIFTBOOK_LOGS_PAGINATED' },
    {
      name: 'message',
      value: 'GET_SHIFTBOOK_LOGS_PAGINATED: ShiftBookLog [paginated_query]'
    },
    { name: 'werks', value: '2000' },
    { name: 'orig_workcenter', value: 'ASSEMBLY_DOORS_AA' },
    { name: 'dest_workcenter', value: 'ASSEMBLY_DOORS_AA' },
    { name: 'category', value: 'undefined' },
    { name: 'lasttimestamp', value: 'undefined' },
    { name: 'total', value: '0' },
    { name: 'page', value: '1' },
    { name: 'pageSize', value: '25' },
    { name: 'totalPages', value: '0' },
    { name: 'returned', value: '0' },
    { name: 'lastChangeTimestamp', value: 'null' },
    { name: 'readCount', value: '0' },
    { name: 'unreadCount', value: '0' }
  ],
  uuid: '691019ee-1d7a-4c1a-bd4a-a83db0108e5e',
  tenant: undefined,
  time: 2025-12-01T17:01:29.080Z
}
[sql] - DELETE FROM cds_outbox_Messages as "$M" WHERE "$M".ID in (?) [ 'fc638910-4585-48f7-8b31-9f0f532ef9a4' ]
[sql] - COMMIT
[odata] - GET /shiftbook/ShiftBookService/ShiftBookCategory {
  '$filter': "werks eq '2000'",
  '$expand': 'translations,sendingWorkcenter',
  '$orderby': 'createdAt asc'
}
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."translations"',translations-\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT jsonb_group_array(jsonb_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc")) as _json_ FROM (SELECT "$t".createdAt,"$t".createdBy,"$t".modifiedAt,"$t".modifiedBy,"$t".category,"$t".lng,"$t".werks,"$t"."desc" FROM ShiftBookService_ShiftBookCategoryLng as "$t" WHERE "$t".category = "$S".ID and "$t".werks = "$S".werks)) as translations,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM ShiftBookService_ShiftBookCategory as "$S" WHERE "$S".werks = ? ORDER BY "$S".createdAt ASC,"$S".ID ASC,"$S".werks ASC LIMIT ?) [ 1, '2000', 1000 ]
[sql] - COMMIT
[INFO] GET /ShiftBookCategory - 200 (9ms)
[odata] - POST /shiftbook/ShiftBookService/addShiftBookEntry 
ðŸŒ [LanguageHandler] Using detected language: en
ðŸ”„ [LDML Pattern Conversion] UI5 â†’ Day.js:
  Date: "d MMM y" â†’ "D MMM YYYY"
  Time: "H:mm:ss" â†’ "H:mm:ss"
  Locale: en
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategory as "$S" WHERE "$S".ID = ? and "$S".werks = ? LIMIT ?) [ 1, '08177299-0aed-4ec4-8009-bcafe4edf293', '2000', 1 ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc") as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".lng,"$S".werks,"$S"."desc" FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryLng as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."werks"',werks,'$."mail_address"',mail_address) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".werks,"$S".mail_address FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryMail as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category_id,"$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryWC as "$S" WHERE "$S".category_id = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293' ]
[sql] - INSERT INTO syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLog (ID,createdAt,createdBy,modifiedAt,modifiedBy,werks,shoporder,stepid,split,workcenter,user_id,log_dt,category,subject,message,isRead) SELECT value-\>\>'$."ID"',(CASE WHEN json_type(value,'$."createdAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."createdAt"') END),(CASE WHEN json_type(value,'$."createdBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."createdBy"' END),(CASE WHEN json_type(value,'$."modifiedAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."modifiedAt"') END),(CASE WHEN json_type(value,'$."modifiedBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."modifiedBy"' END),value-\>\>'$."werks"',value-\>\>'$."shoporder"',value-\>\>'$."stepid"',value-\>\>'$."split"',value-\>\>'$."workcenter"',value-\>\>'$."user_id"',ISO(value-\>\>'$."log_dt"'),value-\>\>'$."category"',value-\>\>'$."subject"',value-\>\>'$."message"',ISO(value-\>\>'$."isRead"') FROM json_each(?) [ [ [ [Object] ] ] ]
[sql] - SELECT json_insert('{}','$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryWC as "$S" WHERE "$S".category_id = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293' ]
[sql] - INSERT INTO syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLogWC (createdAt,createdBy,modifiedAt,modifiedBy,log_id,workcenter,isRead) SELECT (CASE WHEN json_type(value,'$."createdAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."createdAt"') END),(CASE WHEN json_type(value,'$."createdBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."createdBy"' END),(CASE WHEN json_type(value,'$."modifiedAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."modifiedAt"') END),(CASE WHEN json_type(value,'$."modifiedBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."modifiedBy"' END),value-\>\>'$."log_id"',value-\>\>'$."workcenter"',ISO(value-\>\>'$."isRead"') FROM json_each(?) [ [ [ [Object], [Object], [Object] ] ] ]
ðŸš€ [DEBUG] createLogEntry: Created log entry with ID: 3cacd30a-6c78-4fc6-8881-7096decbf5e1
{"timestamp":"2025-12-01T17:01:58.081Z","level":"INFO","message":"ðŸ”§ [EmailBusinessService] Sending notifications for log 3cacd30a-6c78-4fc6-8881-7096decbf5e1","service":"shiftbook"}
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."werks"',werks,'$."mail_address"',mail_address) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".werks,"$S".mail_address FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryMail as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
{"timestamp":"2025-12-01T17:01:58.081Z","level":"INFO","message":"ðŸ”§ [EmailBusinessService] Found 1 email recipients","service":"shiftbook"}
ðŸ”§ [NOTIFICATION] Starting notification for category: 08177299-0aed-4ec4-8009-bcafe4edf293, werks: 2000
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategory as "$S" WHERE "$S".ID = ? and "$S".werks = ? LIMIT ?) [ 1, '08177299-0aed-4ec4-8009-bcafe4edf293', '2000', 1 ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc") as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".lng,"$S".werks,"$S"."desc" FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryLng as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."werks"',werks,'$."mail_address"',mail_address) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".werks,"$S".mail_address FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryMail as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category_id,"$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryWC as "$S" WHERE "$S".category_id = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293' ]
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."name"',name,'$."webhookURL"',webhookURL,'$."description"',description,'$."active"',CASE active when 1 then 'true' when 0 then 'false' END -\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category_id,"$S".name,"$S".webhookURL,"$S".description,"$S".active FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookTeamsChannel as "$S" WHERE "$S".category_id = ? LIMIT ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', 1 ]
ðŸ“§ [EMAIL] Sending email notification for category: 08177299-0aed-4ec4-8009-bcafe4edf293
ðŸ”§ sendEmail called with: { category: '08177299-0aed-4ec4-8009-bcafe4edf293', recipients: 1 }
Using development config for destination: shiftbook-email
ðŸ”§ Email config retrieved: { type: 'smtp' }
Email Service Initialization - Environment: development
Simulation Mode: ENABLED
ðŸ“§ Email Service running in SIMULATION MODE - emails will be logged but not sent
ðŸ“§ [SIMULATION] Email would be sent:
   From: noreply@company.com
   To: production.manager.p2@company.com
   Subject: asdsadsa
   CC: none
   BCC: none
   Body length: 2142 characters
ðŸ” getText: Detected language en for key email.sent.success
ðŸ” getText: Found message for email.sent.success: email.sent.success
EMAIL SENT - Category: 08177299-0aed-4ec4-8009-bcafe4edf293, Recipients: production.manager.p2@company.com, Subject: asdsadsa, Tracking: email_1764608518087_f4bshtjfj
Using development config for destination: shiftbook-email
ðŸ“§ [EMAIL] Email result: {
  status: 'sent',
  recipients: 'production.manager.p2@company.com',
  trackingId: 'email_1764608518087_f4bshtjfj',
  messageId: undefined
}
ðŸ“¢ [TEAMS] Skipped - No teams channel configured or inactive
ðŸ”§ [NOTIFICATION] Final result: {
  status: 'sent',
  email: { sent: true, success: true, error: null },
  teams: { sent: false, success: false, error: null },
  category: '08177299-0aed-4ec4-8009-bcafe4edf293',
  werks: '2000',
  recipients: 'production.manager.p2@company.com',
  notifications: [ 'Email: sent' ]
}
[sql] - SELECT json_insert('{}','$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLogWC as "$S" WHERE "$S".log_id = ?) [ '3cacd30a-6c78-4fc6-8881-7096decbf5e1' ]
[sql] - INSERT INTO cds_outbox_Messages (ID,timestamp,target,msg,attempts,"partition",lastError,lastAttemptTimestamp,status) SELECT value-\>\>'$."ID"',ISO(value-\>\>'$."timestamp"'),value-\>\>'$."target"',value-\>\>'$."msg"',(CASE WHEN json_type(value,'$."attempts"') IS NULL THEN 0 ELSE value-\>\>'$."attempts"' END),(CASE WHEN json_type(value,'$."partition"') IS NULL THEN 0 ELSE value-\>\>'$."partition"' END),value-\>\>'$."lastError"',ISO(value-\>\>'$."lastAttemptTimestamp"'),value-\>\>'$."status"' FROM json_each(?) [ [ [ [Object] ] ] ]
[sql] - COMMIT
[INFO] POST /addShiftBookEntry - 200 (26ms)
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."timestamp"',timestamp,'$."target"',target,'$."msg"',msg,'$."attempts"',attempts,'$."partition"',"partition",'$."lastError"',lastError,'$."lastAttemptTimestamp"',lastAttemptTimestamp,'$."status"',status) as _json_ FROM (SELECT "$M".ID,"$M".timestamp,"$M".target,"$M".msg,"$M".attempts,"$M"."partition","$M".lastError,"$M".lastAttemptTimestamp,"$M".status FROM cds_outbox_Messages as "$M" WHERE "$M".target = ? and "$M".attempts \< ? and ("$M".status is NULL or "$M".lastAttemptTimestamp \< ?) ORDER BY "$M".status ASC,"$M".timestamp ASC,"$M".ID ASC LIMIT ? ) [ 'audit-log', 20, '2025-12-01T16:01:58.091Z', 10 ]
[audit-log] - DATA_MODIFICATION: {
  user: 'privileged',
  object: { type: 'ShiftBookLog', id: { shiftbooklog: '---' } },
  data_subject: { type: 'User', id: { user: 'privileged' } },
  attributes: [
    { name: 'action', value: 'ADD_SHIFT_BOOK_ENTRY' },
    {
      name: 'message',
      value: 'ADD_SHIFT_BOOK_ENTRY: ShiftBookLog [---]'
    },
    { name: 'werks', value: '2000' },
    { name: 'shoporder', value: '---' },
    { name: 'workcenter', value: 'ASSEMBLY_DOORS_AA' },
    { name: 'category', value: '08177299-0aed-4ec4-8009-bcafe4edf293' },
    { name: 'subject', value: 'asdsadsa' }
  ],
  uuid: '8cbffb9f-e3af-4997-8364-6be4a234e273',
  tenant: undefined,
  time: 2025-12-01T17:01:58.092Z
}
[sql] - DELETE FROM cds_outbox_Messages as "$M" WHERE "$M".ID in (?) [ 'f50d0191-ef77-41ff-b168-3f0bc5bf61fb' ]
[sql] - COMMIT
[odata] - POST /shiftbook/ShiftBookService/getShiftBookLogsPaginated 
[error] - 400 - [Value  is not a valid Timestamp] {
  target: 'lasttimestamp',
  args: [ '', Timestamp { type: 'cds.Timestamp' } ],
  code: 'ASSERT_DATA_TYPE'
}
[WARN] POST /getShiftBookLogsPaginated - 400 (8ms)
[odata] - GET /shiftbook/ShiftBookService/ShiftBookCategory {
  '$filter': "werks eq '2000'",
  '$expand': 'translations,sendingWorkcenter',
  '$orderby': 'createdAt asc'
}
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."translations"',translations-\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT jsonb_group_array(jsonb_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc")) as _json_ FROM (SELECT "$t".createdAt,"$t".createdBy,"$t".modifiedAt,"$t".modifiedBy,"$t".category,"$t".lng,"$t".werks,"$t"."desc" FROM ShiftBookService_ShiftBookCategoryLng as "$t" WHERE "$t".category = "$S".ID and "$t".werks = "$S".werks)) as translations,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM ShiftBookService_ShiftBookCategory as "$S" WHERE "$S".werks = ? ORDER BY "$S".createdAt ASC,"$S".ID ASC,"$S".werks ASC LIMIT ?) [ 1, '2000', 1000 ]
[sql] - COMMIT
[INFO] GET /ShiftBookCategory - 200 (7ms)
[odata] - POST /shiftbook/ShiftBookService/addShiftBookEntry 
ðŸŒ [LanguageHandler] Using detected language: en
ðŸ”„ [LDML Pattern Conversion] UI5 â†’ Day.js:
  Date: "d MMM y" â†’ "D MMM YYYY"
  Time: "H:mm:ss" â†’ "H:mm:ss"
  Locale: en
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategory as "$S" WHERE "$S".ID = ? and "$S".werks = ? LIMIT ?) [ 1, '08177299-0aed-4ec4-8009-bcafe4edf293', '2000', 1 ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc") as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".lng,"$S".werks,"$S"."desc" FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryLng as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."werks"',werks,'$."mail_address"',mail_address) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".werks,"$S".mail_address FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryMail as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category_id,"$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryWC as "$S" WHERE "$S".category_id = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293' ]
[sql] - INSERT INTO syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLog (ID,createdAt,createdBy,modifiedAt,modifiedBy,werks,shoporder,stepid,split,workcenter,user_id,log_dt,category,subject,message,isRead) SELECT value-\>\>'$."ID"',(CASE WHEN json_type(value,'$."createdAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."createdAt"') END),(CASE WHEN json_type(value,'$."createdBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."createdBy"' END),(CASE WHEN json_type(value,'$."modifiedAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."modifiedAt"') END),(CASE WHEN json_type(value,'$."modifiedBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."modifiedBy"' END),value-\>\>'$."werks"',value-\>\>'$."shoporder"',value-\>\>'$."stepid"',value-\>\>'$."split"',value-\>\>'$."workcenter"',value-\>\>'$."user_id"',ISO(value-\>\>'$."log_dt"'),value-\>\>'$."category"',value-\>\>'$."subject"',value-\>\>'$."message"',ISO(value-\>\>'$."isRead"') FROM json_each(?) [ [ [ [Object] ] ] ]
[sql] - SELECT json_insert('{}','$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryWC as "$S" WHERE "$S".category_id = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293' ]
[sql] - INSERT INTO syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLogWC (createdAt,createdBy,modifiedAt,modifiedBy,log_id,workcenter,isRead) SELECT (CASE WHEN json_type(value,'$."createdAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."createdAt"') END),(CASE WHEN json_type(value,'$."createdBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."createdBy"' END),(CASE WHEN json_type(value,'$."modifiedAt"') IS NULL THEN ISO(session_context('$now')) ELSE ISO(value-\>\>'$."modifiedAt"') END),(CASE WHEN json_type(value,'$."modifiedBy"') IS NULL THEN session_context('$user.id') ELSE value-\>\>'$."modifiedBy"' END),value-\>\>'$."log_id"',value-\>\>'$."workcenter"',ISO(value-\>\>'$."isRead"') FROM json_each(?) [ [ [ [Object], [Object], [Object] ] ] ]
ðŸš€ [DEBUG] createLogEntry: Created log entry with ID: 34c0f635-9569-4ba6-a301-e7c347c9941f
{"timestamp":"2025-12-01T17:04:21.303Z","level":"INFO","message":"ðŸ”§ [EmailBusinessService] Sending notifications for log 34c0f635-9569-4ba6-a301-e7c347c9941f","service":"shiftbook"}
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."werks"',werks,'$."mail_address"',mail_address) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".werks,"$S".mail_address FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryMail as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
{"timestamp":"2025-12-01T17:04:21.303Z","level":"INFO","message":"ðŸ”§ [EmailBusinessService] Found 1 email recipients","service":"shiftbook"}
ðŸ”§ [NOTIFICATION] Starting notification for category: 08177299-0aed-4ec4-8009-bcafe4edf293, werks: 2000
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."werks"',werks,'$."sendmail"',sendmail,'$."sendworkcenters"',sendworkcenters,'$."default_subject"',default_subject,'$."default_message"',default_message,'$."triggerproductionprocess"',CASE triggerproductionprocess when 1 then 'true' when 0 then 'false' END -\>'$','$."sendingWorkcenter"',sendingWorkcenter-\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".werks,"$S".sendmail,"$S".sendworkcenters,"$S".default_subject,"$S".default_message,"$S".triggerproductionprocess,(SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$s2".createdAt,"$s2".createdBy,"$s2".modifiedAt,"$s2".modifiedBy,"$s2".category_id,"$s2".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategorySendingWC as "$s2" WHERE "$s2".category_id = "$S".ID LIMIT ?)) as sendingWorkcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategory as "$S" WHERE "$S".ID = ? and "$S".werks = ? LIMIT ?) [ 1, '08177299-0aed-4ec4-8009-bcafe4edf293', '2000', 1 ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."lng"',lng,'$."werks"',werks,'$."desc"',"desc") as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".lng,"$S".werks,"$S"."desc" FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryLng as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category"',category,'$."werks"',werks,'$."mail_address"',mail_address) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category,"$S".werks,"$S".mail_address FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryMail as "$S" WHERE "$S".category = ? and "$S".werks = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', '2000' ]
[sql] - SELECT json_insert('{}','$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category_id,"$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookCategoryWC as "$S" WHERE "$S".category_id = ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293' ]
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."modifiedAt"',modifiedAt,'$."modifiedBy"',modifiedBy,'$."category_id"',category_id,'$."name"',name,'$."webhookURL"',webhookURL,'$."description"',description,'$."active"',CASE active when 1 then 'true' when 0 then 'false' END -\>'$') as _json_ FROM (SELECT "$S".ID,"$S".createdAt,"$S".createdBy,"$S".modifiedAt,"$S".modifiedBy,"$S".category_id,"$S".name,"$S".webhookURL,"$S".description,"$S".active FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookTeamsChannel as "$S" WHERE "$S".category_id = ? LIMIT ?) [ '08177299-0aed-4ec4-8009-bcafe4edf293', 1 ]
ðŸ“§ [EMAIL] Sending email notification for category: 08177299-0aed-4ec4-8009-bcafe4edf293
ðŸ”§ sendEmail called with: { category: '08177299-0aed-4ec4-8009-bcafe4edf293', recipients: 1 }
Using development config for destination: shiftbook-email
ðŸ”§ Email config retrieved: { type: 'smtp' }
ðŸ“§ [SIMULATION] Email would be sent:
   From: noreply@company.com
   To: production.manager.p2@company.com
   Subject: sadasd
   CC: none
   BCC: none
   Body length: 2140 characters
ðŸ” getText: Detected language en for key email.sent.success
ðŸ” getText: Found message for email.sent.success: email.sent.success
EMAIL SENT - Category: 08177299-0aed-4ec4-8009-bcafe4edf293, Recipients: production.manager.p2@company.com, Subject: sadasd, Tracking: email_1764608661306_uab8qhw0m
Using development config for destination: shiftbook-email
ðŸ“§ [EMAIL] Email result: {
  status: 'sent',
  recipients: 'production.manager.p2@company.com',
  trackingId: 'email_1764608661306_uab8qhw0m',
  messageId: undefined
}
ðŸ“¢ [TEAMS] Skipped - No teams channel configured or inactive
ðŸ”§ [NOTIFICATION] Final result: {
  status: 'sent',
  email: { sent: true, success: true, error: null },
  teams: { sent: false, success: false, error: null },
  category: '08177299-0aed-4ec4-8009-bcafe4edf293',
  werks: '2000',
  recipients: 'production.manager.p2@company.com',
  notifications: [ 'Email: sent' ]
}
[sql] - SELECT json_insert('{}','$."workcenter"',workcenter) as _json_ FROM (SELECT "$S".workcenter FROM syntax_gbi_sap_dme_plugins_shiftbook_ShiftBookLogWC as "$S" WHERE "$S".log_id = ?) [ '34c0f635-9569-4ba6-a301-e7c347c9941f' ]
[sql] - INSERT INTO cds_outbox_Messages (ID,timestamp,target,msg,attempts,"partition",lastError,lastAttemptTimestamp,status) SELECT value-\>\>'$."ID"',ISO(value-\>\>'$."timestamp"'),value-\>\>'$."target"',value-\>\>'$."msg"',(CASE WHEN json_type(value,'$."attempts"') IS NULL THEN 0 ELSE value-\>\>'$."attempts"' END),(CASE WHEN json_type(value,'$."partition"') IS NULL THEN 0 ELSE value-\>\>'$."partition"' END),value-\>\>'$."lastError"',ISO(value-\>\>'$."lastAttemptTimestamp"'),value-\>\>'$."status"' FROM json_each(?) [ [ [ [Object] ] ] ]
[sql] - COMMIT
[INFO] POST /addShiftBookEntry - 200 (12ms)
[sql] - BEGIN
[sql] - SELECT json_insert('{}','$."ID"',ID,'$."timestamp"',timestamp,'$."target"',target,'$."msg"',msg,'$."attempts"',attempts,'$."partition"',"partition",'$."lastError"',lastError,'$."lastAttemptTimestamp"',lastAttemptTimestamp,'$."status"',status) as _json_ FROM (SELECT "$M".ID,"$M".timestamp,"$M".target,"$M".msg,"$M".attempts,"$M"."partition","$M".lastError,"$M".lastAttemptTimestamp,"$M".status FROM cds_outbox_Messages as "$M" WHERE "$M".target = ? and "$M".attempts \< ? and ("$M".status is NULL or "$M".lastAttemptTimestamp \< ?) ORDER BY "$M".status ASC,"$M".timestamp ASC,"$M".ID ASC LIMIT ? ) [ 'audit-log', 20, '2025-12-01T16:04:21.309Z', 10 ]
[audit-log] - DATA_MODIFICATION: {
  user: 'privileged',
  object: { type: 'ShiftBookLog', id: { shiftbooklog: '---' } },
  data_subject: { type: 'User', id: { user: 'privileged' } },
  attributes: [
    { name: 'action', value: 'ADD_SHIFT_BOOK_ENTRY' },
    {
      name: 'message',
      value: 'ADD_SHIFT_BOOK_ENTRY: ShiftBookLog [---]'
    },
    { name: 'werks', value: '2000' },
    { name: 'shoporder', value: '---' },
    { name: 'workcenter', value: 'ASSEMBLY_DOORS_AA' },
    { name: 'category', value: '08177299-0aed-4ec4-8009-bcafe4edf293' },
    { name: 'subject', value: 'sadasd' }
  ],
  uuid: '5940342e-ba03-420c-9f15-7cb8cd0dca60',
  tenant: undefined,
  time: 2025-12-01T17:04:21.309Z
}
[sql] - DELETE FROM cds_outbox_Messages as "$M" WHERE "$M".ID in (?) [ '0de62676-3784-4d14-a39d-4aab129643ff' ]
[sql] - COMMIT
[odata] - POST /shiftbook/ShiftBookService/getShiftBookLogsPaginated 
[error] - 400 - [Value  is not a valid Timestamp] {
  target: 'lasttimestamp',
  args: [ '', Timestamp { type: 'cds.Timestamp' } ],
  code: 'ASSERT_DATA_TYPE'
}
[WARN] POST /getShiftBookLogsPaginated - 400 (2ms)
```

## Template Variables
<!-- Define variables for reuse -->
- `{{PROJECT_NAME}}`: 
- `{{CONTEXT}}`: 
- `{{SPECIFIC_TASK}}`: 
